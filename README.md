# üé≠ Babka Bot - AI Video & Photo Generator

Telegram –±–æ—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∏–¥–µ–æ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π —Å –ø–æ–º–æ—â—å—é –ò–ò.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π

### Railway
1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ Railway
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - `TELEGRAM_BOT_TOKEN`
   - `YOOKASSA_SHOP_ID`
   - `YOOKASSA_SECRET_KEY`
   - `GOOGLE_APPLICATION_CREDENTIALS`
5. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –±–æ—Ç–∞

### Render
1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Web Service –Ω–∞ Render
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
5. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –±–æ—Ç–∞

### –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
```bash
git clone https://github.com/your-username/babka-bot.git
cd babka-bot
chmod +x deploy.sh
./deploy.sh
```

## üí∞ –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è

- **–ÆKassa –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ
- **–ú–æ–Ω–µ—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: –∫–∞–∂–¥–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø–∏—Å—ã–≤–∞–µ—Ç –º–æ–Ω–µ—Ç—ã (–≤–∏–¥–µ–æ/JSON ‚Äî 10, —Ñ–æ—Ç–æ ‚Äî 1/2, –ø—Ä–∏–º–µ—Ä–æ—á–Ω–∞—è ‚Äî 1)
- **–¢–∞—Ä–∏—Ñ—ã**: –õ–∞–π—Ç (1‚ÄØ990 ‚ÇΩ ‚Üí 120 –º–æ–Ω–µ—Ç), –°—Ç–∞–Ω–¥–∞—Ä—Ç (2‚ÄØ490 ‚ÇΩ ‚Üí 210 –º–æ–Ω–µ—Ç), –ü—Ä–æ (4‚ÄØ990 ‚ÇΩ ‚Üí 440 –º–æ–Ω–µ—Ç)
- **–ê–¥–¥–æ–Ω—ã**: Video 5, Photo 20, Mix –∏ –¥—Ä.

## üéØ –§—É–Ω–∫—Ü–∏–∏

- üé¨ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ —Å –ø–æ–º–æ—â—å—é Veo 3
- üì∏ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π (—É–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞, —Ä–µ—Ç—É—à—å, Polaroid)
- üëó –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø—Ä–∏–º–µ—Ä–æ—á–Ω–∞—è

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.13+
- Telegram Bot Token
- Google Cloud Platform API
- –ÆKassa –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π

## üîß –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
git clone https://github.com/your-username/babka-bot.git
cd babka-bot
pip install -r requirements.txt
cp .env.example .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python main.py
# –õ–æ–∫–∞–ª—å–Ω—ã–µ unit-—Ç–µ—Å—Ç—ã
pytest tests/test_billing.py tests/test_plans.py
```

## üóÑÔ∏è –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ psql (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
psql "postgres://<—Å—Ç—Ä–æ–∫–∞_–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è_–∏–∑_Railway>" -f FINAL_MIGRATION.sql
```

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
```bash
# Bash —Å–∫—Ä–∏–ø—Ç
./apply_migration.sh "postgres://<—Å—Ç—Ä–æ–∫–∞_–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è_–∏–∑_Railway>"

# Python —Å–∫—Ä–∏–ø—Ç (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞)
python apply_migration.py "postgres://<—Å—Ç—Ä–æ–∫–∞_–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è_–∏–∑_Railway>"
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–∑ Railway:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞ Railway
2. –í—ã–±–µ—Ä–∏—Ç–µ PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "Variables"
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `DATABASE_URL`

–ú–∏–≥—Ä–∞—Ü–∏—è:
- –ü—Ä–∏–≤–æ–¥–∏—Ç —Ç–∞–±–ª–∏—Ü—É `users` –∫ –º–æ–Ω–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏ (`coins`, `plan`, `plan_expiry`, `admin_coins`, `created_at`, `updated_at`)
- –û—á–∏—â–∞–µ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –±–æ–Ω—É—Å–Ω—ã–µ –ø–æ–ª—è –∏ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç `transactions` (—Ç–æ–ª—å–∫–æ —Å–ø–∏—Å–∞–Ω–∏—è)
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É `payments` —Å –ø–æ–ª—è–º–∏ `id`, `user_id`, `subscription_type`, `amount`, `status`, `created_at`, `idempotent_key`

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
